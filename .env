# Подключение к базе данных
DATABASE_URL="mysql://root:mypass@localhost/BDname"
SHADOW_DATABASE_URL="mysql://root:mypass@localhost/BDnameShadow"
# DATABASE_URL — основной URL для подключения к MySQL базе данных.
# SHADOW_DATABASE_URL — URL для "теневой" базы (shadow DB), используется, например, для миграций или тестирования.

# JWT секреты
JWT_ACCESS_TOKEN_SECRET="4sW7QiiM3md"
JWT_REFRESH_TOKEN_SECRET="MrzcpVyQ+saE"
JWT_EMAIL_VERIFICATION_SECRET="Z7#uWqLp2@Tx9&Jm"
# Секретные ключи для подписания JWT токенов:
# - ACCESS_TOKEN_SECRET — для Access токена (короткая сессия)
# - REFRESH_TOKEN_SECRET — для Refresh токена (долгоживущий)
# - EMAIL_VERIFICATION_SECRET — для токенов подтверждения email

# Время жизни JWT токенов
JWT_ACCESS_TOKEN_EXPIRATION="15m"
JWT_REFRESH_TOKEN_EXPIRATION="7d"
JWT_RESET_PASSWORD_EXPIRATION="15m"
JWT_EMAIL_VERIFICATION_EXPIRATION="24h"
# Таймауты жизни для разных видов JWT токенов:
# 15 минут для Access и сброса пароля,
# 7 дней для Refresh токена,
# 24 часа для email верификации

# Порт сервера
PORT="10005"
# Порт, на котором запускается backend сервер

# Включение/выключение функционала
EMAIL_VERIFICATION_ENABLED="false"
REGISTRATION_ENABLED="true"
LOGIN_ENABLED="true"
RESET_PASSWORD_ENABLED="true"
# Флаги для включения или отключения различных функциональных возможностей:
# Подтверждение email, регистрация, вход, сброс пароля

# URL адреса фронтенда и бэкенда
FRONTEND_URL="http://localhost:10000"
BACKEND_URL="http://localhost:10005"
# Адреса фронтенда и бэкенда для формирования ссылок, например, в письмах

# SMTP (почтовый сервер) настройки
SMTP_HOST="smtp.yandex.ru"
SMTP_PORT="465"
SMTP_USER="login@yandex.ru"
SMTP_PASS="mypass"
SMTP_SENDER_NAME="App-Auth"
# Настройки для почтового сервера SMTP:
# Хост, порт (обычно 465 для SSL),
# Логин, пароль и имя отправителя для писем

# URL логотипа для email
EMAIL_LOGO_URL="http://localhost:10005/public/logo_120.png"
# Ссылка на логотип, который вставляется в письма

# --- Настройки для защиты (rate limiting, блокировки) ---

# Включение rate limiting глобально
RATE_LIMIT_ENABLED="true"
# Включает или отключает глобальное ограничение частоты запросов

# Общие параметры rate limiting
RATE_LIMIT_TTL="60"          # окно времени в секундах для подсчёта запросов
RATE_LIMIT_MAX="50"          # макс. число запросов за окно времени
# Ограничение по количеству запросов: максимум 50 запросов за 60 секунд

# Лимит на регистрацию с одного IP
RATE_LIMIT_REGISTER_ENABLED="true"
RATE_LIMIT_REGISTER_TTL="3600"      # 1 час
RATE_LIMIT_REGISTER_MAX="3"         # максимум регистраций за 1 час с одного IP
# Ограничение регистрации: не более 3 регистраций с одного IP в течение часа

# Лимит на запрос сброса пароля с одного IP
RATE_LIMIT_FORGOT_PASSWORD_ENABLED="true"
RATE_LIMIT_FORGOT_PASSWORD_TTL="3600"  # 1 час
RATE_LIMIT_FORGOT_PASSWORD_MAX="5"     # максимум запросов сброса пароля за 1 час с одного IP
# Ограничение на запросы по сбросу пароля: максимум 5 за час с одного IP

# Логирование подозрительной активности
LOG_SUSPICIOUS_ACTIVITY="true"
# Флаг для включения логирования подозрительных действий

# Блокировка подозрительных IP
BLOCK_SUSPICIOUS_IP_ENABLED="true"
BLOCK_SUSPICIOUS_IP_TTL="3600"    # время блокировки IP с подозрительной активностью (в секундах)
# Включение блокировки IP на 1 час, если выявлена подозрительная активность

# Разрешенные боты (игнорируются при ограничении запросов)
THROTTLER_IGNORE_USER_AGENTS="Googlebot,Bingbot,YandexBot,Yandex,Mail\\.Ru,Mail\\.RU_Bot,Rambler,SputnikBot,Baiduspider,Sogou,MegaIndex\\.ru,BLEXBot,AhrefsBot,Sitebulb"
# Список user-agent ботов, которые не подпадают под ограничение по частоте запросов



