# Auth — реализация на NestJS + ORM Prisma

- Реализована : **регистрация**, **авторизация**, **сброс пароля**, **выход из системы**, в зависимости от роли пользователя.

- Используются **refresh** и **access** токены.

- Подтвержление регистрации по почте через пакет **nodemailer**, работает опционально через включение из файла **.env**, настройки там же + в папке **EmailVerificationModule**.

- Подключена защита от ботов через механизм **throttler**, файлы в папке **security**, работает опционально через.включение из файла **.env**.

- Для анализа ботов в БД создата таблица: **suspiciousActivityLog**.

- Реализованы роли: **USER**, **ADMIN** через **enum** в файле **schema.prisma**, и настроены доступы к модулям исходя из роли пользователя.

- и т.д.

## Установка

1) Устанавливаем зависимости через`npm i`  или др. удобным способом.

2) Создаем свою БД и перенастраиваем подключение  к MYSQL или др. в файле **.env**,  перенастраиваем глобальные переменные в **.env** и т.д.

3) Пушим схемы в БД создавая таблицы для данных, связи и т.д. через: `npx prisma migrate dev --name init` или `npx prisma db push`,  или как хотите по другому.

4) `npm run seed` - пушим тестовые данные в БД.

5) И т.д.

---
Если есть вопросы пишите: `@SergeyPinchukov`